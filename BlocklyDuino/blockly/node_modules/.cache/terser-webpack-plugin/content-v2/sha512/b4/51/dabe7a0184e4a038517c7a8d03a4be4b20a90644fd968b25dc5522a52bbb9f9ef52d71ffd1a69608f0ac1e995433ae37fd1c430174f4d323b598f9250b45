{"code":"!function(n){var e={};function i(o){if(e[o])return e[o].exports;var l=e[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=n,i.c=e,i.d=function(n,e,o){i.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},i.r=function(n){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})},i.t=function(n,e){if(1&e&&(n=i(n)),8&e)return n;if(4&e&&\"object\"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:n}),2&e&&\"string\"!=typeof n)for(var l in n)i.d(o,l,function(e){return n[e]}.bind(null,l));return o},i.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(e,\"a\",e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p=\"\",i(i.s=0)}([function(n,e,i){n.exports=i(1)},function(n,e,i){\"use strict\";Blockly.Arduino=new Blockly.Generator(\"Arduino\"),Blockly.Arduino.addReservedWords(\"setup,loop,if,else,for,switch,case,while,do,break,continue,return,goto,define,include,HIGH,LOW,INPUT,OUTPUT,INPUT_PULLUP,true,false,interger, constants,floating,point,void,bookean,char,unsigned,byte,int,word,long,float,double,string,String,array,static, volatile,const,sizeof,pinMode,digitalWrite,digitalRead,analogReference,analogRead,analogWrite,tone,noTone,shiftOut,shitIn,pulseIn,millis,micros,delay,delayMicroseconds,min,max,abs,constrain,map,pow,sqrt,sin,cos,tan,randomSeed,random,lowByte,highByte,bitRead,bitWrite,bitSet,bitClear,bit,attachInterrupt,detachInterrupt,interrupts,noInterrupts\"),Blockly.Arduino.ORDER_ATOMIC=0,Blockly.Arduino.ORDER_UNARY_POSTFIX=1,Blockly.Arduino.ORDER_UNARY_PREFIX=2,Blockly.Arduino.ORDER_MULTIPLICATIVE=3,Blockly.Arduino.ORDER_ADDITIVE=4,Blockly.Arduino.ORDER_SHIFT=5,Blockly.Arduino.ORDER_RELATIONAL=6,Blockly.Arduino.ORDER_EQUALITY=7,Blockly.Arduino.ORDER_BITWISE_AND=8,Blockly.Arduino.ORDER_BITWISE_XOR=9,Blockly.Arduino.ORDER_BITWISE_OR=10,Blockly.Arduino.ORDER_LOGICAL_AND=11,Blockly.Arduino.ORDER_LOGICAL_OR=12,Blockly.Arduino.ORDER_CONDITIONAL=13,Blockly.Arduino.ORDER_ASSIGNMENT=14,Blockly.Arduino.ORDER_NONE=99;var o={arduino:{description:\"Arduino standard-compatible board\",digital:[[\"1\",\"1\"],[\"2\",\"2\"],[\"3\",\"3\"],[\"4\",\"4\"],[\"5\",\"5\"],[\"6\",\"6\"],[\"7\",\"7\"],[\"8\",\"8\"],[\"9\",\"9\"],[\"10\",\"10\"],[\"11\",\"11\"],[\"12\",\"12\"],[\"13\",\"13\"],[\"A0\",\"A0\"],[\"A1\",\"A1\"],[\"A2\",\"A2\"],[\"A3\",\"A3\"],[\"A4\",\"A4\"],[\"A5\",\"A5\"]],analog:[[\"A0\",\"A0\"],[\"A1\",\"A1\"],[\"A2\",\"A2\"],[\"A3\",\"A3\"],[\"A4\",\"A4\"],[\"A5\",\"A5\"]],serial:9600},arduino_mega:{description:\"Arduino Mega-compatible board\"}};o.default=o.arduino,Blockly.Arduino.init=function(n){Blockly.Arduino.definitions_=Object.create(null),Blockly.Arduino.setups_=Object.create(null),Blockly.Arduino.variableDB_?Blockly.Arduino.variableDB_.reset():Blockly.Arduino.variableDB_=new ScratchBlocks.Names(Blockly.Arduino.RESERVED_WORDS_);var e=[];n=Blockly.Variables.allVariables(n);for(var i=0;i<n.length;i++)e[i]=\"int \"+Blockly.Arduino.variableDB_.getName(n[i].name,ScratchBlocks.Variables.NAME_TYPE)+\";\\n\";Blockly.Arduino.definitions_.variables=e.join(\"\\n\")},Blockly.Arduino.finish=function(n){n=\"void loop() \\n{\\n\"+(n=(n=\"  \"+n.replace(/\\n/g,\"\\n  \")).replace(/\\n\\s+$/,\"\\n\"))+\"\\n}\";var e,i=[],o=[];for(e in Blockly.Arduino.definitions_){var l=Blockly.Arduino.definitions_[e];l.match(/^#include/)?i.push(l):o.push(l)}for(e in l=[],Blockly.Arduino.setups_)l.push(Blockly.Arduino.setups_[e]);return(i.join(\"\\n\")+\"\\n\\n\"+o.join(\"\\n\")+\"\\nvoid setup() \\n{\\n  \"+l.join(\"\\n  \")+\"\\n}\\n\\n\").replace(/\\n\\n+/g,\"\\n\\n\").replace(/\\n*$/,\"\\n\\n\\n\")+n},Blockly.Arduino.scrubNakedValue=function(n){return n+\";\\n\"},Blockly.Arduino.quote_=function(n){return'\"'+(n=n.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\n/g,\"\\\\\\n\").replace(/\\$/g,\"\\\\$\").replace(/'/g,\"\\\\'\"))+'\"'},Blockly.Arduino.scrub_=function(n,e){if(null===e)return\"\";var i=\"\";if(!n.outputConnection||!n.outputConnection.targetConnection){var o=n.getCommentText();o&&(i+=Blockly.Arduino.prefixLines(o,\"// \")+\"\\n\");for(var l=0;l<n.inputList.length;l++)n.inputList[l].type==ScratchBlocks.INPUT_VALUE&&(o=n.inputList[l].connection.targetBlock())&&(o=Blockly.Arduino.allNestedComments(o))&&(i+=Blockly.Arduino.prefixLines(o,\"// \"))}return l=n.nextConnection&&n.nextConnection.targetBlock(),i+e+(l=Blockly.Arduino.blockToCode(l))},Blockly.Arduino.logic={},Blockly.Arduino.controls_if=function(){var n=0,e=Blockly.Arduino.valueToCode(this,\"IF\"+n,Blockly.Arduino.ORDER_NONE)||\"false\",i=Blockly.Arduino.statementToCode(this,\"DO\"+n),o=\"if (\"+e+\") {\\n\"+i+\"\\n}\";for(n=1;n<=this.elseifCount_;n++)o+=\" else if (\"+(e=Blockly.Arduino.valueToCode(this,\"IF\"+n,Blockly.Arduino.ORDER_NONE)||\"false\")+\") {\\n\"+(i=Blockly.Arduino.statementToCode(this,\"DO\"+n))+\"}\";return this.elseCount_&&(o+=\" else {\\n\"+(i=Blockly.Arduino.statementToCode(this,\"ELSE\"))+\"\\n}\"),o+\"\\n\"},Blockly.Arduino.logic_compare=function(){var n=this.getFieldValue(\"OP\"),e=\"==\"==(n=Blockly.Arduino.logic_compare.OPERATORS[n])||\"!=\"==n?Blockly.Arduino.ORDER_EQUALITY:Blockly.Arduino.ORDER_RELATIONAL;return[(Blockly.Arduino.valueToCode(this,\"A\",e)||\"0\")+\" \"+n+\" \"+(Blockly.Arduino.valueToCode(this,\"B\",e)||\"0\"),e]},Blockly.Arduino.logic_compare.OPERATORS={EQ:\"==\",NEQ:\"!=\",LT:\"<\",LTE:\"<=\",GT:\">\",GTE:\">=\"},Blockly.Arduino.logic_operation=function(){var n=\"AND\"==this.getFieldValue(\"OP\")?\"&&\":\"||\",e=\"&&\"==n?Blockly.Arduino.ORDER_LOGICAL_AND:Blockly.Arduino.ORDER_LOGICAL_OR;return[(Blockly.Arduino.valueToCode(this,\"A\",e)||\"false\")+\" \"+n+\" \"+(Blockly.Arduino.valueToCode(this,\"B\",e)||\"false\"),e]},Blockly.Arduino.logic_negate=function(){var n=Blockly.Arduino.ORDER_UNARY_PREFIX;return[\"!\"+(Blockly.Arduino.valueToCode(this,\"BOOL\",n)||\"false\"),n]},Blockly.Arduino.logic_boolean=function(){return[\"TRUE\"==this.getFieldValue(\"BOOL\")?\"true\":\"false\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.logic_null=function(){return[\"NULL\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.math={},Blockly.Arduino.math_number=function(){var n=window.parseFloat(this.getFieldValue(\"NUM\"));return[n,0>n?Blockly.Arduino.ORDER_UNARY_PREFIX:Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.math_arithmetic=function(){var n=this.getFieldValue(\"OP\"),e=Blockly.Arduino.math_arithmetic.OPERATORS[n];n=e[0],e=e[1];var i=Blockly.Arduino.valueToCode(this,\"A\",e)||\"0\",o=Blockly.Arduino.valueToCode(this,\"B\",e)||\"0\";return n?[i+n+o,e]:[\"Math.pow(\"+i+\", \"+o+\")\",Blockly.Arduino.ORDER_UNARY_POSTFIX]},Blockly.Arduino.math_arithmetic.OPERATORS={ADD:[\" + \",Blockly.Arduino.ORDER_ADDITIVE],MINUS:[\" - \",Blockly.Arduino.ORDER_ADDITIVE],MULTIPLY:[\" * \",Blockly.Arduino.ORDER_MULTIPLICATIVE],DIVIDE:[\" / \",Blockly.Arduino.ORDER_MULTIPLICATIVE],POWER:[null,Blockly.Arduino.ORDER_NONE]},Blockly.Arduino.loops={},Blockly.Arduino.controls_for=function(){var n=Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"VAR\"),Blockly.Variables.NAME_TYPE),e=Blockly.Arduino.valueToCode(this,\"FROM\",Blockly.Arduino.ORDER_ASSIGNMENT)||\"0\",i=Blockly.Arduino.valueToCode(this,\"TO\",Blockly.Arduino.ORDER_ASSIGNMENT)||\"0\",o=Blockly.Arduino.statementToCode(this,\"DO\");if(Blockly.Arduino.INFINITE_LOOP_TRAP&&(o=Blockly.Arduino.INFINITE_LOOP_TRAP.replace(/%1/g,\"'\"+this.id+\"'\")+o),e.match(/^-?\\d+(\\.\\d+)?$/)&&i.match(/^-?\\d+(\\.\\d+)?$/)){var l=parseFloat(e)<=parseFloat(i);l=\"for (\"+n+\" = \"+e+\"; \"+n+(l?\" <= \":\" >= \")+i+\"; \"+n+(l?\"++\":\"--\")+\") {\\n\"+o+\"}\\n\"}else{l=\"\";var t=e;e.match(/^\\w+$/)||e.match(/^-?\\d+(\\.\\d+)?$/)||(l+=\"int \"+(t=Blockly.Arduino.variableDB_.getDistinctName(n+\"_start\",Blockly.Variables.NAME_TYPE))+\" = \"+e+\";\\n\"),e=i,i.match(/^\\w+$/)||i.match(/^-?\\d+(\\.\\d+)?$/)||(l+=\"int \"+(e=Blockly.Arduino.variableDB_.getDistinctName(n+\"_end\",Blockly.Variables.NAME_TYPE))+\" = \"+i+\";\\n\"),l+=\"for (\"+n+\" = \"+t+\";\\n    (\"+t+\" <= \"+e+\") ? \"+n+\" <= \"+e+\" : \"+n+\" >= \"+e+\";\\n    \"+n+\" += (\"+t+\" <= \"+e+\") ? 1 : -1) {\\n\"+o+\"}\\n\"}return l},Blockly.Arduino.controls_whileUntil=function(){var n=\"UNTIL\"==this.getFieldValue(\"MODE\"),e=Blockly.Arduino.valueToCode(this,\"BOOL\",n?Blockly.Arduino.ORDER_LOGICAL_NOT:Blockly.Arduino.ORDER_NONE)||\"false\",i=Blockly.Arduino.statementToCode(this,\"DO\");return Blockly.Arduino.INFINITE_LOOP_TRAP&&(i=Blockly.Arduino.INFINITE_LOOP_TRAP.replace(/%1/g,\"'\"+this.id+\"'\")+i),n&&(e=\"!\"+e),\"while (\"+e+\") {\\n\"+i+\"}\\n\"},Blockly.Arduino.variables={},Blockly.Arduino.variables_get=function(){return[Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"VAR\"),Blockly.Variables.NAME_TYPE),Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.variables_declare=function(){this.getFieldValue(\"TYPE\");var n=Blockly.Arduino.valueToCode(this,\"VALUE\",Blockly.Arduino.ORDER_ASSIGNMENT)||\"0\",e=Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"VAR\"),Blockly.Variables.NAME_TYPE);return Blockly.Arduino.setups_[\"setup_var\"+e]=e+\" = \"+n+\";\\n\",\"\"},Blockly.Arduino.variables_set=function(){var n=Blockly.Arduino.valueToCode(this,\"VALUE\",Blockly.Arduino.ORDER_ASSIGNMENT)||\"0\";return Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"VAR\"),Blockly.Variables.NAME_TYPE)+\" = \"+n+\";\\n\"},Blockly.Arduino.procedures={},Blockly.Arduino.procedures_defreturn=function(){var n=Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"NAME\"),Blockly.Procedures.NAME_TYPE),e=Blockly.Arduino.statementToCode(this,\"STACK\");Blockly.Arduino.INFINITE_LOOP_TRAP&&(e=Blockly.Arduino.INFINITE_LOOP_TRAP.replace(/%1/g,\"'\"+this.id+\"'\")+e);var i=Blockly.Arduino.valueToCode(this,\"RETURN\",Blockly.Arduino.ORDER_NONE)||\"\";i&&(i=\"  return \"+i+\";\\n\");for(var o=i?\"int\":\"void\",l=[],t=0;t<this.arguments_.length;t++)l[t]=\"int \"+Blockly.Arduino.variableDB_.getName(this.arguments_[t],Blockly.Variables.NAME_TYPE);return e=o+\" \"+n+\"(\"+l.join(\", \")+\") {\\n\"+e+i+\"}\\n\",e=Blockly.Arduino.scrub_(this,e),Blockly.Arduino.definitions_[n]=e,null},Blockly.Arduino.procedures_defnoreturn=Blockly.Arduino.procedures_defreturn,Blockly.Arduino.procedures_callreturn=function(){for(var n=Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"NAME\"),Blockly.Procedures.NAME_TYPE),e=[],i=0;i<this.arguments_.length;i++)e[i]=Blockly.Arduino.valueToCode(this,\"ARG\"+i,Blockly.Arduino.ORDER_NONE)||\"null\";return[n+\"(\"+e.join(\", \")+\")\",Blockly.Arduino.ORDER_UNARY_POSTFIX]},Blockly.Arduino.procedures_callnoreturn=function(){for(var n=Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"NAME\"),Blockly.Procedures.NAME_TYPE),e=[],i=0;i<this.arguments_.length;i++)e[i]=Blockly.Arduino.valueToCode(this,\"ARG\"+i,Blockly.Arduino.ORDER_NONE)||\"null\";return n+\"(\"+e.join(\", \")+\");\\n\"},Blockly.Arduino.procedures_ifreturn=function(){var n=\"if (\"+(Blockly.Arduino.valueToCode(this,\"CONDITION\",Blockly.Arduino.ORDER_NONE)||\"false\")+\") {\\n\";this.hasReturnValue_?n+=\"  return \"+(Blockly.Arduino.valueToCode(this,\"VALUE\",Blockly.Arduino.ORDER_NONE)||\"null\")+\";\\n\":n+=\"  return;\\n\";return n+\"}\\n\"},Blockly.Arduino.texts={},Blockly.Arduino.text=function(){return[Blockly.Arduino.quote_(this.getFieldValue(\"TEXT\")),Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.base={},Blockly.Arduino.newcat_set_dig=function(){console.warn(\"YARIK\"),console.warn(this.inputList[0].fieldRow[0].getValue()),console.warn(PIDOOOOR);var n=this.getFieldValue(\"PIN\"),e=this.getFieldValue(\"HIGH_LOW\");return Blockly.Arduino.setups_[\"setup_output_\"+n]=\"pinMode(\"+n+\", OUTPUT);\",\"digitalWrite(\"+n+\", \"+e+\");\\n\"},Blockly.Arduino.grove={},Blockly.Arduino.grove_led=function(){var n=this.getFieldValue(\"PIN\"),e=this.getFieldValue(\"STAT\");return Blockly.Arduino.setups_[\"setup_green_led_\"+n]=\"pinMode(\"+n+\", OUTPUT);\",\"digitalWrite(\"+n+\",\"+e+\");\\n\"},Blockly.Arduino.grove_button=function(){var n=this.getFieldValue(\"PIN\");return Blockly.Arduino.setups_[\"setup_button_\"+n]=\"pinMode(\"+n+\", INPUT);\",[\"digitalRead(\"+n+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_rotary_angle=function(){return[\"analogRead(\"+this.getFieldValue(\"PIN\")+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_tilt_switch=function(){var n=this.getFieldValue(\"PIN\");return Blockly.Arduino.setups_[\"setup_tilt_switch_\"+n]=\"pinMode(\"+n+\", INPUT);\",[\"digitalRead(\"+n+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_piezo_buzzer=function(){var n=this.getFieldValue(\"PIN\"),e=this.getFieldValue(\"STAT\");return Blockly.Arduino.setups_[\"setup_piezo_buzzer_\"+n]=\"pinMode(\"+n+\", OUTPUT);\",\"digitalWrite(\"+n+\",\"+e+\");\\n\"},Blockly.Arduino.grove_relay=function(){var n=this.getFieldValue(\"PIN\"),e=this.getFieldValue(\"STAT\");return Blockly.Arduino.setups_[\"setup_relay_\"+n]=\"pinMode(\"+n+\", OUTPUT);\",\"digitalWrite(\"+n+\",\"+e+\");\\n\"},Blockly.Arduino.grove_temporature_sensor=function(){var n=this.getFieldValue(\"PIN\");return[\"round((1/(log((float)(1023-analogRead(\"+n+\"))*10000/analogRead(\"+n+\"))/10000)/3975+1/298.15)-273.15)\",Blockly.Arduino.ORDER_ATOMIC]};var l=function(n){var e=n;e=parseInt(e)?parseInt(n)+1:\"A\"+(parseInt(e.slice(1,e.length))+1),n=o.default.digital.length;for(var i=!0,l=0;l<n;l++)o.default.digital[l][1]==e&&(i=!1);return i?(alert(\"Grove Sensor needs PIN#+1 port, current setting is out of bound.\"),null):e};function t(n){return parseInt(d(n).substring(0,2),16)}function r(n){return parseInt(d(n).substring(2,4),16)}function u(n){return parseInt(d(n).substring(4,6),16)}function d(n){return\"#\"==n.charAt(0)?n.substring(1,7):n}Blockly.Arduino.grove_serial_lcd_print=function(){var n=this.getFieldValue(\"PIN\"),e=Blockly.Arduino.valueToCode(this,\"TEXT\",Blockly.Arduino.ORDER_UNARY_POSTFIX)||\"''\",i=Blockly.Arduino.valueToCode(this,\"TEXT2\",Blockly.Arduino.ORDER_UNARY_POSTFIX)||\"''\",o=Blockly.Arduino.valueToCode(this,\"DELAY_TIME\",Blockly.Arduino.ORDER_ATOMIC)||\"1000\";Blockly.Arduino.definitions_.define_seriallcd=\"#include <SerialLCD.h>\\n\",Blockly.Arduino.definitions_.define_softwareserial=\"#include <SoftwareSerial.h>\\n\";var t=l(n);return Blockly.Arduino.definitions_[\"var_lcd_\"+n]=\"SerialLCD slcd_\"+n+\"(\"+n+\",\"+t+\");\\n\",Blockly.Arduino.setups_[\"setup_lcd_\"+n]=\"slcd_\"+n+\".begin();\\n\",(n=\"slcd_\"+n+\".backlight();\\nslcd_\"+n+\".setCursor(0,0);\\nslcd_\"+n+\".print(\"+e+\");\\nslcd_\"+n+\".setCursor(0,1);\\nslcd_\"+n+\".print(\"+i+\");\\n\")+\"delay(\"+o+\");\\n\"},Blockly.Arduino.grove_serial_lcd_power=function(){var n=this.getFieldValue(\"PIN\"),e=this.getFieldValue(\"STAT\");Blockly.Arduino.definitions_.define_seriallcd=\"#include <SerialLCD.h>\\n\",Blockly.Arduino.definitions_.define_softwareserial=\"#include <SoftwareSerial.h>\\n\";var i=l(n);return Blockly.Arduino.definitions_[\"var_lcd\"+n]=\"SerialLCD slcd_\"+n+\"(\"+n+\",\"+i+\");\\n\",n=\"slcd_\"+n,\"ON\"===e?n+\".Power();\\n\":n+\".noPower();\\n\"},Blockly.Arduino.grove_serial_lcd_effect=function(){var n=this.getFieldValue(\"PIN\"),e=this.getFieldValue(\"STAT\");Blockly.Arduino.definitions_.define_seriallcd=\"#include <SerialLCD.h>\\n\",Blockly.Arduino.definitions_.define_softwareserial=\"#include <SoftwareSerial.h>\\n\";var i=l(n);return Blockly.Arduino.definitions_[\"var_lcd\"+n]=\"SerialLCD slcd_\"+n+\"(\"+n+\",\"+i+\");\\n\",n=\"slcd_\"+n,\"LEFT\"===e?n+\".scrollDisplayLeft();\\n\":\"RIGHT\"===e?n+\".scrollDisplayRight();\\n\":n+\".autoscroll();\\n\"},Blockly.Arduino.grove_sound_sensor=function(){return[\"analogRead(\"+this.getFieldValue(\"PIN\")+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_pir_motion_sensor=function(){var n=this.getFieldValue(\"PIN\");return Blockly.Arduino.setups_[\"setup_input_\"+n]=\"pinMode(\"+n+\", INPUT);\",[\"digitalRead(\"+n+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_line_finder=function(){var n=this.getFieldValue(\"PIN\");return Blockly.Arduino.setups_[\"setup_input_\"+n]=\"pinMode(\"+n+\", INPUT);\",[\"digitalRead(\"+n+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_ultrasonic_ranger=function(){var n=this.getFieldValue(\"PIN\"),e=this.getFieldValue(\"UNIT\");return Blockly.Arduino.definitions_.define_ultrasonic=\"#include <Ultrasonic.h>\\n\",Blockly.Arduino.definitions_[\"var_ultrasonic\"+n]=\"Ultrasonic ultrasonic_\"+n+\"(\"+n+\");\",[\"cm\"===e?\"ultrasonic_\"+n+\".MeasureInCentimeters()\":\"ultrasonic_\"+n+\".MeasureInInches()\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_motor_shield=function(){var n=this.getFieldValue(\"DIRECTION\");Blockly.Arduino.setups_.setup_motor=\"pinMode(8,OUTPUT);//I1\\n  pinMode(11,OUTPUT);//I2\\n  pinMode(9,OUTPUT);//speedPinA\\n  pinMode(12,OUTPUT);//I3\\n  pinMode(13,OUTPUT);//i4\\n  pinMode(10,OUTPUT);//speedPinB\\n\";var e=\"\";return\"forward\"===n?(Blockly.Arduino.definitions_.define_forward=\"void forward()\\n{\\n  analogWrite(9,127);//input a simulation value to set the speed\\n  analogWrite(10,127);\\n  digitalWrite(13,HIGH);//turn DC Motor B move clockwise\\n  digitalWrite(12,LOW);\\n  digitalWrite(11,LOW);//turn DC Motor A move anticlockwise\\n  digitalWrite(8,HIGH);\\n}\\n\",e=\"forward();\\n\"):\"right\"===n?(Blockly.Arduino.definitions_.define_right=\"void right()\\n{\\n  analogWrite(9,127);//input a simulation value to set the speed\\n  analogWrite(10,127);\\n  digitalWrite(13,LOW);//turn DC Motor B move anticlockwise\\n  digitalWrite(12,HIGH);\\n  digitalWrite(11,LOW);//turn DC Motor A move anticlockwise\\n  digitalWrite(8,HIGH);\\n}\\n\\n\",e=\"right();\\n\"):\"left\"===n?(Blockly.Arduino.definitions_.define_left=\"void left()\\n{\\n  analogWrite(9,127);//input a simulation value to set the speed\\n  analogWrite(10,127);\\n  digitalWrite(13,HIGH);//turn DC Motor B move clockwise\\n  digitalWrite(12,LOW);\\n  digitalWrite(11,HIGH);//turn DC Motor A move clockwise\\n  digitalWrite(8,LOW);\\n}\\n\\n\",e=\"left();\\n\"):\"backward\"===n?(Blockly.Arduino.definitions_.define_backward=\"void backward()\\n{\\n  analogWrite(9,127);//input a simulation value to set the speed\\n  analogWrite(10,127);\\n  digitalWrite(13,LOW);//turn DC Motor B move anticlockwise\\n  digitalWrite(12,HIGH);\\n  digitalWrite(11,HIGH);//turn DC Motor A move clockwise\\n  digitalWrite(8,LOW);\\n}\\n\\n\",e=\"backward();\\n\"):\"stop\"===n&&(Blockly.Arduino.definitions_.define_stop=\"void stop()\\n{\\ndigitalWrite(9,LOW);// Unenble the pin, to stop the motor. this should be done to avid damaging the motor.\\ndigitalWrite(10,LOW);\\ndelay(1000);\\n}\\n\\n\",e=\"stop();\\n\"),e},Blockly.Arduino.grove_thumb_joystick=function(){var n=this.getFieldValue(\"PIN\");return[\"analogRead(\"+(\"y\"===this.getFieldValue(\"AXIS\")?l(n):n)+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_rgb_led=function(){var n=this.getFieldValue(\"PIN\"),e=l(n);if(Blockly.Arduino.setups_[\"setup_input_\"+n]=\"pinMode(\"+n+\", OUTPUT);\",Blockly.Arduino.setups_[\"setup_input_\"+e]=\"pinMode(\"+e+\", OUTPUT);\",Blockly.Arduino.definitions_.define_uint8=\"#define uint8 unsigned char\",Blockly.Arduino.definitions_.define_uint16=\"#define uint16 unsigned int\",Blockly.Arduino.definitions_.define_uint32=\"#define uint32 unsigned long int\",Blockly.Arduino.definitions_[\"define_clkproduce_\"+n]=\"void ClkProduce_\"+n+\"(void)\\n{\\n  digitalWrite(\"+n+\", LOW);\\n  delayMicroseconds(20);\\n  digitalWrite(\"+n+\", HIGH);\\n  delayMicroseconds(20);\\n}\\n\",Blockly.Arduino.definitions_[\"define_send32zero_\"+n]=\"void Send32Zero_\"+n+\"(void)\\n{\\n  uint8 i;\\n  for (i=0; i<32; i++)\\n  {\\n    digitalWrite(\"+e+\", LOW);\\n    ClkProduce_\"+n+\"();\\n  }\\n}\\n\",Blockly.Arduino.definitions_.define_taskanticode=\"uint8 TakeAntiCode(uint8 dat)\\n{\\n  uint8 tmp = 0;\\n  if ((dat & 0x80) == 0)\\n  {\\n    tmp |= 0x02;\\n  }\\n  \\n  if ((dat & 0x40) == 0)\\n  {\\n    tmp |= 0x01;\\n  }\\n  return tmp;\\n}\\n\",Blockly.Arduino.definitions_[\"define_datasend_\"+n]=\"// gray data\\nvoid DatSend_\"+n+\"(uint32 dx)\\n{\\n  uint8 i;\\n  for (i=0; i<32; i++)\\n  {\\n    if ((dx & 0x80000000) != 0)\\n    {\\n      digitalWrite(\"+e+\", HIGH);\\n    }\\n    else\\n    {\\n      digitalWrite(\"+e+\", LOW);\\n    }\\n  dx <<= 1;\\n  ClkProduce_\"+n+\"();\\n  }\\n}\\n\",Blockly.Arduino.definitions_[\"define_datadealwithsend_\"+n]=\"// data processing\\nvoid DataDealWithAndSend_\"+n+\"(uint8 r, uint8 g, uint8 b)\\n{\\n  uint32 dx = 0;\\n  dx |= (uint32)0x03 << 30;             // highest two bits 1ï¼Œflag bits\\n  dx |= (uint32)TakeAntiCode(b) << 28;\\n  dx |= (uint32)TakeAntiCode(g) << 26;\\n  dx |= (uint32)TakeAntiCode(r) << 24;\\n\\n  dx |= (uint32)b << 16;\\n  dx |= (uint32)g << 8;\\n  dx |= r;\\n\\n  DatSend_\"+n+\"(dx);\\n}\\n\",e=\"Send32Zero_\"+n+\"(); // begin\\n\",0==this.itemCount_)return\"\";for(var i=0;i<this.itemCount_;i++){var o=this.getFieldValue(\"RGB\"+i);e+=\"DataDealWithAndSend_\"+n+\"(\"+t(o)+\", \"+r(o)+\", \"+u(o)+\"); // first node data\\n\"}return e+\"Send32Zero_\"+n+\"();  // send to update data\\n\"},Blockly.Arduino.grove_bluetooth_slave=function(){var n=this.getFieldValue(\"PIN\"),e=l(n),i=this.getFieldValue(\"NAME\");this.getFieldValue(\"PINCODE\");var o=Blockly.Arduino.statementToCode(this,\"RCV\"),t=Blockly.Arduino.statementToCode(this,\"SNT\");return Blockly.Arduino.definitions_.define_softwareserial=\"#include <SoftwareSerial.h>\\n\",Blockly.Arduino.definitions_[\"var_bluetooth_\"+n]=\"SoftwareSerial blueToothSerial_\"+n+\"(\"+n+\",\"+e+\");\\n\",Blockly.Arduino.setups_[\"setup_bluetooth_\"+n]=\"Serial.begin(9600);\\n\",Blockly.Arduino.setups_[\"setup_bluetooth_\"+n]+=\"  pinMode(\"+n+\", INPUT);\\n\",Blockly.Arduino.setups_[\"setup_bluetooth_\"+n]+=\"  pinMode(\"+e+\", OUTPUT);\\n\",Blockly.Arduino.setups_[\"setup_bluetooth_\"+n]+=\"  setupBlueToothConnection_\"+n+\"();\\n\",Blockly.Arduino.definitions_[\"define_setupBlueToothConnection_\"+n]=\"void setupBlueToothConnection_\"+n+\"()\\n{\\n  blueToothSerial_\"+n+\".begin(38400); //Set BluetoothBee BaudRate to default baud rate 38400\\n  blueToothSerial_\"+n+'.print(\"\\\\r\\\\n+STWMOD=0\\\\r\\\\n\"); //set the bluetooth work in slave mode\\n  blueToothSerial_'+n+'.print(\"\\\\r\\\\n+STNA='+i+'\\\\r\\\\n\"); //set the bluetooth name as \"'+i+'\"\\n  blueToothSerial_'+n+'.print(\"\\\\r\\\\n+STPIN=0000\\\\r\\\\n\");//Set SLAVE pincode\"0000\"\\n  blueToothSerial_'+n+'.print(\"\\\\r\\\\n+STOAUT=1\\\\r\\\\n\"); // Permit Paired device to connect me\\n  blueToothSerial_'+n+'.print(\"\\\\r\\\\n+STAUTO=0\\\\r\\\\n\"); // Auto-connection should be forbidden here\\n  delay(2000); // This delay is required.\\n  blueToothSerial_'+n+'.print(\"\\\\r\\\\n+INQ=1\\\\r\\\\n\"); //make the slave bluetooth inquirable \\n  Serial.println(\"The slave bluetooth is inquirable!\");\\n  delay(2000); // This delay is required.\\n  blueToothSerial_'+n+\".flush();\\n}\\n\",\"char recvChar_\"+n+\";\\nwhile(1) {\\n  if(blueToothSerial_\"+n+\".available()) {//check if there is any data sent from the remote bluetooth shield\\n    recvChar_\"+n+\" = blueToothSerial_\"+n+\".read();\\n    Serial.print(recvChar_\"+n+\");\\n\"+o+\"  }\\n  if(Serial.available()){//check if there is any data sent from the local serial terminal, you can add the other applications here\\n    recvChar_\"+n+\" = Serial.read();\\n    blueToothSerial_\"+n+\".print(recvChar_\"+n+\");\\n\"+t+\"  }\\n}\\n\"}}]);","extractedComments":[]}