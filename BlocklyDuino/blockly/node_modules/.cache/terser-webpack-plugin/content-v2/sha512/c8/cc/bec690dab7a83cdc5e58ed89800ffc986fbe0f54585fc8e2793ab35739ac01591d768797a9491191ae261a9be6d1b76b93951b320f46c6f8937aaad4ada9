{"code":"!function(n){var o={};function e(i){if(o[i])return o[i].exports;var l=o[i]={i:i,l:!1,exports:{}};return n[i].call(l.exports,l,l.exports,e),l.l=!0,l.exports}e.m=n,e.c=o,e.d=function(n,o,i){e.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:i})},e.r=function(n){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})},e.t=function(n,o){if(1&o&&(n=e(n)),8&o)return n;if(4&o&&\"object\"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:n}),2&o&&\"string\"!=typeof n)for(var l in n)e.d(i,l,function(o){return n[o]}.bind(null,l));return i},e.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(o,\"a\",o),o},e.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},e.p=\"\",e(e.s=0)}([function(n,o,e){n.exports=e(1)},function(n,o,e){\"use strict\";e.r(o);e(2);Blockly.Arduino=new Blockly.Generator(\"Arduino\"),Blockly.Arduino.addReservedWords(\"setup,loop,if,else,for,switch,case,while,do,break,continue,return,goto,define,include,HIGH,LOW,INPUT,OUTPUT,INPUT_PULLUP,true,false,interger, constants,floating,point,void,bookean,char,unsigned,byte,int,word,long,float,double,string,String,array,static, volatile,const,sizeof,pinMode,digitalWrite,digitalRead,analogReference,analogRead,analogWrite,tone,noTone,shiftOut,shitIn,pulseIn,millis,micros,delay,delayMicroseconds,min,max,abs,constrain,map,pow,sqrt,sin,cos,tan,randomSeed,random,lowByte,highByte,bitRead,bitWrite,bitSet,bitClear,bit,attachInterrupt,detachInterrupt,interrupts,noInterrupts\"),Blockly.Arduino.ORDER_ATOMIC=0,Blockly.Arduino.ORDER_UNARY_POSTFIX=1,Blockly.Arduino.ORDER_UNARY_PREFIX=2,Blockly.Arduino.ORDER_MULTIPLICATIVE=3,Blockly.Arduino.ORDER_ADDITIVE=4,Blockly.Arduino.ORDER_SHIFT=5,Blockly.Arduino.ORDER_RELATIONAL=6,Blockly.Arduino.ORDER_EQUALITY=7,Blockly.Arduino.ORDER_BITWISE_AND=8,Blockly.Arduino.ORDER_BITWISE_XOR=9,Blockly.Arduino.ORDER_BITWISE_OR=10,Blockly.Arduino.ORDER_LOGICAL_AND=11,Blockly.Arduino.ORDER_LOGICAL_OR=12,Blockly.Arduino.ORDER_CONDITIONAL=13,Blockly.Arduino.ORDER_ASSIGNMENT=14,Blockly.Arduino.ORDER_NONE=99;var i={arduino:{description:\"Arduino standard-compatible board\",digital:[[\"1\",\"1\"],[\"2\",\"2\"],[\"3\",\"3\"],[\"4\",\"4\"],[\"5\",\"5\"],[\"6\",\"6\"],[\"7\",\"7\"],[\"8\",\"8\"],[\"9\",\"9\"],[\"10\",\"10\"],[\"11\",\"11\"],[\"12\",\"12\"],[\"13\",\"13\"],[\"A0\",\"A0\"],[\"A1\",\"A1\"],[\"A2\",\"A2\"],[\"A3\",\"A3\"],[\"A4\",\"A4\"],[\"A5\",\"A5\"]],analog:[[\"A0\",\"A0\"],[\"A1\",\"A1\"],[\"A2\",\"A2\"],[\"A3\",\"A3\"],[\"A4\",\"A4\"],[\"A5\",\"A5\"]],serial:9600},arduino_mega:{description:\"Arduino Mega-compatible board\"}};i.default=i.arduino,Blockly.Arduino.init=function(n){Blockly.Arduino.definitions_=Object.create(null),Blockly.Arduino.setups_=Object.create(null),Blockly.Arduino.variableDB_?Blockly.Arduino.variableDB_.reset():Blockly.Arduino.variableDB_=new Blockly.Names(Blockly.Arduino.RESERVED_WORDS_);var o=[];n=Blockly.Variables.allVariables(n);for(var e=0;e<n.length;e++)o[e]=\"int \"+Blockly.Arduino.variableDB_.getName(n[e],Blockly.Variables.NAME_TYPE)+\";\\n\";Blockly.Arduino.definitions_.variables=o.join(\"\\n\")},Blockly.Arduino.finish=function(n){n=\"void loop() \\n{\\n\"+(n=(n=\"  \"+n.replace(/\\n/g,\"\\n  \")).replace(/\\n\\s+$/,\"\\n\"))+\"\\n}\";var o,e=[],i=[];for(o in Blockly.Arduino.definitions_){var l=Blockly.Arduino.definitions_[o];l.match(/^#include/)?e.push(l):i.push(l)}for(o in l=[],Blockly.Arduino.setups_)l.push(Blockly.Arduino.setups_[o]);return(e.join(\"\\n\")+\"\\n\\n\"+i.join(\"\\n\")+\"\\nvoid setup() \\n{\\n  \"+l.join(\"\\n  \")+\"\\n}\\n\\n\").replace(/\\n\\n+/g,\"\\n\\n\").replace(/\\n*$/,\"\\n\\n\\n\")+n},Blockly.Arduino.scrubNakedValue=function(n){return n+\";\\n\"},Blockly.Arduino.quote_=function(n){return'\"'+(n=n.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\n/g,\"\\\\\\n\").replace(/\\$/g,\"\\\\$\").replace(/'/g,\"\\\\'\"))+'\"'},Blockly.Arduino.scrub_=function(n,o){if(null===o)return\"\";var e=\"\";if(!n.outputConnection||!n.outputConnection.targetConnection){var i=n.getCommentText();i&&(e+=Blockly.Arduino.prefixLines(i,\"// \")+\"\\n\");for(var l=0;l<n.inputList.length;l++)n.inputList[l].type==Blockly.INPUT_VALUE&&(i=n.inputList[l].connection.targetBlock())&&(i=Blockly.Arduino.allNestedComments(i))&&(e+=Blockly.Arduino.prefixLines(i,\"// \"))}return l=n.nextConnection&&n.nextConnection.targetBlock(),e+o+(l=Blockly.Arduino.blockToCode(l))},Blockly.Arduino.base={},Blockly.Arduino.base_delay=function(){return\"delay(\"+(Blockly.Arduino.valueToCode(this,\"DELAY_TIME\",Blockly.Arduino.ORDER_ATOMIC)||\"1000\")+\");\\n\"},Blockly.Arduino.base_map=function(){return[\"map(\"+Blockly.Arduino.valueToCode(this,\"NUM\",Blockly.Arduino.ORDER_NONE)+\", 0, 1024, 0, \"+Blockly.Arduino.valueToCode(this,\"DMAX\",Blockly.Arduino.ORDER_ATOMIC)+\")\",Blockly.Arduino.ORDER_NONE]},Blockly.Arduino.inout_buildin_led=function(){var n=this.getFieldValue(\"STAT\");return Blockly.Arduino.setups_.setup_output_13=\"pinMode(13, OUTPUT);\",\"digitalWrite(13, \"+n+\");\\n\"},Blockly.Arduino.inout_digital_write=function(){var n=this.getFieldValue(\"PIN\"),o=this.getFieldValue(\"STAT\");return Blockly.Arduino.setups_[\"setup_output_\"+n]=\"pinMode(\"+n+\", OUTPUT);\",\"digitalWrite(\"+n+\", \"+o+\");\\n\"},Blockly.Arduino.inout_digital_read=function(){var n=this.getFieldValue(\"PIN\");return Blockly.Arduino.setups_[\"setup_input_\"+n]=\"pinMode(\"+n+\", INPUT);\",[\"digitalRead(\"+n+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.inout_analog_write=function(){return\"analogWrite(\"+this.getFieldValue(\"PIN\")+\", \"+Blockly.Arduino.valueToCode(this,\"NUM\",Blockly.Arduino.ORDER_ATOMIC)+\");\\n\"},Blockly.Arduino.inout_analog_read=function(){return[\"analogRead(\"+this.getFieldValue(\"PIN\")+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.inout_tone=function(){var n=this.getFieldValue(\"PIN\"),o=Blockly.Arduino.valueToCode(this,\"NUM\",Blockly.Arduino.ORDER_ATOMIC);return Blockly.Arduino.setups_[\"setup_output\"+n]=\"pinMode(\"+n+\", OUTPUT);\",\"tone(\"+n+\", \"+o+\");\\n\"},Blockly.Arduino.inout_notone=function(){var n=this.getFieldValue(\"PIN\");return Blockly.Arduino.setups_[\"setup_output\"+n]=\"pinMode(\"+n+\", OUTPUT);\",\"noTone(\"+n+\");\\n\"},Blockly.Arduino.inout_highlow=function(){return[\"HIGH\"==this.getFieldValue(\"BOOL\")?\"HIGH\":\"LOW\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.servo_move=function(){var n=this.getFieldValue(\"PIN\"),o=Blockly.Arduino.valueToCode(this,\"DEGREE\",Blockly.Arduino.ORDER_ATOMIC);return Blockly.Arduino.definitions_.define_servo=\"#include <Servo.h>\\n\",Blockly.Arduino.definitions_[\"var_servo\"+n]=\"Servo servo_\"+n+\";\\n\",Blockly.Arduino.setups_[\"setup_servo_\"+n]=\"servo_\"+n+\".attach(\"+n+\");\\n\",\"servo_\"+n+\".write(\"+o+\");\\n\"},Blockly.Arduino.servo_read_degrees=function(){var n=this.getFieldValue(\"PIN\");return Blockly.Arduino.definitions_.define_servo=\"#include &lt;Servo.h&gt;\\n\",Blockly.Arduino.definitions_[\"var_servo\"+n]=\"Servo servo_\"+n+\";\\n\",Blockly.Arduino.setups_[\"setup_servo_\"+n]=\"servo_\"+n+\".attach(\"+n+\");\\n\",\"servo_\"+n+\".read()\"},Blockly.Arduino.serial_print=function(){var n=Blockly.Arduino.valueToCode(this,\"CONTENT\",Blockly.Arduino.ORDER_ATOMIC)||\"0\";return Blockly.Arduino.setups_[\"setup_serial_\"+i.default.serial]=\"Serial.begin(\"+i.default.serial+\");\\n\",\"Serial.println(\"+n+\");\\n\"},Blockly.Arduino.loops={},Blockly.Arduino.controls_for=function(){var n=Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"VAR\"),Blockly.Variables.NAME_TYPE),o=Blockly.Arduino.valueToCode(this,\"FROM\",Blockly.Arduino.ORDER_ASSIGNMENT)||\"0\",e=Blockly.Arduino.valueToCode(this,\"TO\",Blockly.Arduino.ORDER_ASSIGNMENT)||\"0\",i=Blockly.Arduino.statementToCode(this,\"DO\");if(Blockly.Arduino.INFINITE_LOOP_TRAP&&(i=Blockly.Arduino.INFINITE_LOOP_TRAP.replace(/%1/g,\"'\"+this.id+\"'\")+i),o.match(/^-?\\d+(\\.\\d+)?$/)&&e.match(/^-?\\d+(\\.\\d+)?$/)){var l=parseFloat(o)<=parseFloat(e);i=\"for (\"+n+\" = \"+o+\"; \"+n+(l?\" <= \":\" >= \")+e+\"; \"+n+(l?\"++\":\"--\")+\") {\\n\"+i+\"}\\n\"}else i=\"\",l=o,o.match(/^\\w+$/)||o.match(/^-?\\d+(\\.\\d+)?$/)||(i+=\"int \"+(l=Blockly.Arduino.variableDB_.getDistinctName(n+\"_start\",Blockly.Variables.NAME_TYPE))+\" = \"+o+\";\\n\"),o=e,e.match(/^\\w+$/)||e.match(/^-?\\d+(\\.\\d+)?$/)||(i+=\"int \"+(o=Blockly.Arduino.variableDB_.getDistinctName(n+\"_end\",Blockly.Variables.NAME_TYPE))+\" = \"+e+\";\\n\"),i+=\"for (\"+n+\" = \"+l+\";\\n    (\"+l+\" <= \"+o+\") ? \"+n+\" <= \"+o+\" : \"+n+\" >= \"+o+\";\\n    \"+n+\" += (\"+l+\" <= \"+o+\") ? 1 : -1) {\\n\"+branch0+\"}\\n\";return i},Blockly.Arduino.controls_whileUntil=function(){var n=\"UNTIL\"==this.getFieldValue(\"MODE\"),o=Blockly.Arduino.valueToCode(this,\"BOOL\",n?Blockly.Arduino.ORDER_LOGICAL_NOT:Blockly.Arduino.ORDER_NONE)||\"false\",e=Blockly.Arduino.statementToCode(this,\"DO\");return Blockly.Arduino.INFINITE_LOOP_TRAP&&(e=Blockly.Arduino.INFINITE_LOOP_TRAP.replace(/%1/g,\"'\"+this.id+\"'\")+e),n&&(o=\"!\"+o),\"while (\"+o+\") {\\n\"+e+\"}\\n\"},Blockly.Arduino.grove={},Blockly.Arduino.grove_led=function(){var n=this.getFieldValue(\"PIN\"),o=this.getFieldValue(\"STAT\");return Blockly.Arduino.setups_[\"setup_green_led_\"+n]=\"pinMode(\"+n+\", OUTPUT);\",\"digitalWrite(\"+n+\",\"+o+\");\\n\"},Blockly.Arduino.grove_button=function(){var n=this.getFieldValue(\"PIN\");return Blockly.Arduino.setups_[\"setup_button_\"+n]=\"pinMode(\"+n+\", INPUT);\",[\"digitalRead(\"+n+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_rotary_angle=function(){return[\"analogRead(\"+this.getFieldValue(\"PIN\")+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_tilt_switch=function(){var n=this.getFieldValue(\"PIN\");return Blockly.Arduino.setups_[\"setup_tilt_switch_\"+n]=\"pinMode(\"+n+\", INPUT);\",[\"digitalRead(\"+n+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_piezo_buzzer=function(){var n=this.getFieldValue(\"PIN\"),o=this.getFieldValue(\"STAT\");return Blockly.Arduino.setups_[\"setup_piezo_buzzer_\"+n]=\"pinMode(\"+n+\", OUTPUT);\",\"digitalWrite(\"+n+\",\"+o+\");\\n\"},Blockly.Arduino.grove_relay=function(){var n=this.getFieldValue(\"PIN\"),o=this.getFieldValue(\"STAT\");return Blockly.Arduino.setups_[\"setup_relay_\"+n]=\"pinMode(\"+n+\", OUTPUT);\",\"digitalWrite(\"+n+\",\"+o+\");\\n\"},Blockly.Arduino.grove_temporature_sensor=function(){var n=this.getFieldValue(\"PIN\");return[\"round((1/(log((float)(1023-analogRead(\"+n+\"))*10000/analogRead(\"+n+\"))/10000)/3975+1/298.15)-273.15)\",Blockly.Arduino.ORDER_ATOMIC]};var l=function(n){var o=n;o=parseInt(o)?parseInt(n)+1:\"A\"+(parseInt(o.slice(1,o.length))+1);n=i.default.digital.length;for(var e=!0,l=0;l<n;l++)i.default.digital[l][1]==o&&(e=!1);return e?(alert(\"Grove Sensor needs PIN#+1 port, current setting is out of bound.\"),null):o};function t(n){return parseInt(d(n).substring(0,2),16)}function r(n){return parseInt(d(n).substring(2,4),16)}function u(n){return parseInt(d(n).substring(4,6),16)}function d(n){return\"#\"==n.charAt(0)?n.substring(1,7):n}Blockly.Arduino.grove_serial_lcd_print=function(){var n=this.getFieldValue(\"PIN\"),o=Blockly.Arduino.valueToCode(this,\"TEXT\",Blockly.Arduino.ORDER_UNARY_POSTFIX)||\"''\",e=Blockly.Arduino.valueToCode(this,\"TEXT2\",Blockly.Arduino.ORDER_UNARY_POSTFIX)||\"''\",i=Blockly.Arduino.valueToCode(this,\"DELAY_TIME\",Blockly.Arduino.ORDER_ATOMIC)||\"1000\";Blockly.Arduino.definitions_.define_seriallcd=\"#include <SerialLCD.h>\\n\",Blockly.Arduino.definitions_.define_softwareserial=\"#include <SoftwareSerial.h>\\n\";var t=l(n);return Blockly.Arduino.definitions_[\"var_lcd_\"+n]=\"SerialLCD slcd_\"+n+\"(\"+n+\",\"+t+\");\\n\",Blockly.Arduino.setups_[\"setup_lcd_\"+n]=\"slcd_\"+n+\".begin();\\n\",t=\"slcd_\"+n+\".backlight();\\nslcd_\"+n+\".setCursor(0,0);\\n\",t+=\"slcd_\"+n+\".print(\"+o+\");\\n\",t+=\"slcd_\"+n+\".setCursor(0,1);\\n\",(t+=\"slcd_\"+n+\".print(\"+e+\");\\n\")+\"delay(\"+i+\");\\n\"},Blockly.Arduino.grove_serial_lcd_power=function(){var n=this.getFieldValue(\"PIN\"),o=this.getFieldValue(\"STAT\");Blockly.Arduino.definitions_.define_seriallcd=\"#include <SerialLCD.h>\\n\",Blockly.Arduino.definitions_.define_softwareserial=\"#include <SoftwareSerial.h>\\n\";var e=l(n);return Blockly.Arduino.definitions_[\"var_lcd\"+n]=\"SerialLCD slcd_\"+n+\"(\"+n+\",\"+e+\");\\n\",n=\"slcd_\"+n,\"ON\"===o?n+\".Power();\\n\":n+\".noPower();\\n\"},Blockly.Arduino.grove_serial_lcd_effect=function(){var n=this.getFieldValue(\"PIN\"),o=this.getFieldValue(\"STAT\");Blockly.Arduino.definitions_.define_seriallcd=\"#include <SerialLCD.h>\\n\",Blockly.Arduino.definitions_.define_softwareserial=\"#include <SoftwareSerial.h>\\n\";var e=l(n);return Blockly.Arduino.definitions_[\"var_lcd\"+n]=\"SerialLCD slcd_\"+n+\"(\"+n+\",\"+e+\");\\n\",n=\"slcd_\"+n,\"LEFT\"===o?n+\".scrollDisplayLeft();\\n\":\"RIGHT\"===o?n+\".scrollDisplayRight();\\n\":n+\".autoscroll();\\n\"},Blockly.Arduino.grove_sound_sensor=function(){return[\"analogRead(\"+this.getFieldValue(\"PIN\")+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_pir_motion_sensor=function(){var n=this.getFieldValue(\"PIN\");return Blockly.Arduino.setups_[\"setup_input_\"+n]=\"pinMode(\"+n+\", INPUT);\",[\"digitalRead(\"+n+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_line_finder=function(){var n=this.getFieldValue(\"PIN\");return Blockly.Arduino.setups_[\"setup_input_\"+n]=\"pinMode(\"+n+\", INPUT);\",[\"digitalRead(\"+n+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_ultrasonic_ranger=function(){var n=this.getFieldValue(\"PIN\"),o=this.getFieldValue(\"UNIT\");return Blockly.Arduino.definitions_.define_ultrasonic=\"#include <Ultrasonic.h>\\n\",Blockly.Arduino.definitions_[\"var_ultrasonic\"+n]=\"Ultrasonic ultrasonic_\"+n+\"(\"+n+\");\",[\"cm\"===o?\"ultrasonic_\"+n+\".MeasureInCentimeters()\":\"ultrasonic_\"+n+\".MeasureInInches()\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_motor_shield=function(){var n=this.getFieldValue(\"DIRECTION\");Blockly.Arduino.setups_.setup_motor=\"pinMode(8,OUTPUT);//I1\\n  pinMode(11,OUTPUT);//I2\\n  pinMode(9,OUTPUT);//speedPinA\\n  pinMode(12,OUTPUT);//I3\\n  pinMode(13,OUTPUT);//i4\\n  pinMode(10,OUTPUT);//speedPinB\\n\";var o=\"\";return\"forward\"===n?(Blockly.Arduino.definitions_.define_forward=\"void forward()\\n{\\n  analogWrite(9,127);//input a simulation value to set the speed\\n  analogWrite(10,127);\\n  digitalWrite(13,HIGH);//turn DC Motor B move clockwise\\n  digitalWrite(12,LOW);\\n  digitalWrite(11,LOW);//turn DC Motor A move anticlockwise\\n  digitalWrite(8,HIGH);\\n}\\n\",o=\"forward();\\n\"):\"right\"===n?(Blockly.Arduino.definitions_.define_right=\"void right()\\n{\\n  analogWrite(9,127);//input a simulation value to set the speed\\n  analogWrite(10,127);\\n  digitalWrite(13,LOW);//turn DC Motor B move anticlockwise\\n  digitalWrite(12,HIGH);\\n  digitalWrite(11,LOW);//turn DC Motor A move anticlockwise\\n  digitalWrite(8,HIGH);\\n}\\n\\n\",o=\"right();\\n\"):\"left\"===n?(Blockly.Arduino.definitions_.define_left=\"void left()\\n{\\n  analogWrite(9,127);//input a simulation value to set the speed\\n  analogWrite(10,127);\\n  digitalWrite(13,HIGH);//turn DC Motor B move clockwise\\n  digitalWrite(12,LOW);\\n  digitalWrite(11,HIGH);//turn DC Motor A move clockwise\\n  digitalWrite(8,LOW);\\n}\\n\\n\",o=\"left();\\n\"):\"backward\"===n?(Blockly.Arduino.definitions_.define_backward=\"void backward()\\n{\\n  analogWrite(9,127);//input a simulation value to set the speed\\n  analogWrite(10,127);\\n  digitalWrite(13,LOW);//turn DC Motor B move anticlockwise\\n  digitalWrite(12,HIGH);\\n  digitalWrite(11,HIGH);//turn DC Motor A move clockwise\\n  digitalWrite(8,LOW);\\n}\\n\\n\",o=\"backward();\\n\"):\"stop\"===n&&(Blockly.Arduino.definitions_.define_stop=\"void stop()\\n{\\ndigitalWrite(9,LOW);// Unenble the pin, to stop the motor. this should be done to avid damaging the motor.\\ndigitalWrite(10,LOW);\\ndelay(1000);\\n}\\n\\n\",o=\"stop();\\n\"),o},Blockly.Arduino.grove_thumb_joystick=function(){var n=this.getFieldValue(\"PIN\");return[\"analogRead(\"+(\"y\"===this.getFieldValue(\"AXIS\")?l(n):n)+\")\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_rgb_led=function(){var n=this.getFieldValue(\"PIN\"),o=l(n);if(Blockly.Arduino.setups_[\"setup_input_\"+n]=\"pinMode(\"+n+\", OUTPUT);\",Blockly.Arduino.setups_[\"setup_input_\"+o]=\"pinMode(\"+o+\", OUTPUT);\",Blockly.Arduino.definitions_.define_uint8=\"#define uint8 unsigned char\",Blockly.Arduino.definitions_.define_uint16=\"#define uint16 unsigned int\",Blockly.Arduino.definitions_.define_uint32=\"#define uint32 unsigned long int\",Blockly.Arduino.definitions_[\"define_clkproduce_\"+n]=\"void ClkProduce_\"+n+\"(void)\\n{\\n  digitalWrite(\"+n+\", LOW);\\n  delayMicroseconds(20);\\n  digitalWrite(\"+n+\", HIGH);\\n  delayMicroseconds(20);\\n}\\n\",Blockly.Arduino.definitions_[\"define_send32zero_\"+n]=\"void Send32Zero_\"+n+\"(void)\\n{\\n  uint8 i;\\n  for (i=0; i<32; i++)\\n  {\\n    digitalWrite(\"+o+\", LOW);\\n    ClkProduce_\"+n+\"();\\n  }\\n}\\n\",Blockly.Arduino.definitions_.define_taskanticode=\"uint8 TakeAntiCode(uint8 dat)\\n{\\n  uint8 tmp = 0;\\n  if ((dat & 0x80) == 0)\\n  {\\n    tmp |= 0x02;\\n  }\\n  \\n  if ((dat & 0x40) == 0)\\n  {\\n    tmp |= 0x01;\\n  }\\n  return tmp;\\n}\\n\",Blockly.Arduino.definitions_[\"define_datasend_\"+n]=\"// gray data\\nvoid DatSend_\"+n+\"(uint32 dx)\\n{\\n  uint8 i;\\n  for (i=0; i<32; i++)\\n  {\\n    if ((dx & 0x80000000) != 0)\\n    {\\n      digitalWrite(\"+o+\", HIGH);\\n    }\\n    else\\n    {\\n      digitalWrite(\"+o+\", LOW);\\n    }\\n  dx <<= 1;\\n  ClkProduce_\"+n+\"();\\n  }\\n}\\n\",Blockly.Arduino.definitions_[\"define_datadealwithsend_\"+n]=\"// data processing\\nvoid DataDealWithAndSend_\"+n+\"(uint8 r, uint8 g, uint8 b)\\n{\\n  uint32 dx = 0;\\n  dx |= (uint32)0x03 << 30;             // highest two bits 1，flag bits\\n  dx |= (uint32)TakeAntiCode(b) << 28;\\n  dx |= (uint32)TakeAntiCode(g) << 26;\\n  dx |= (uint32)TakeAntiCode(r) << 24;\\n\\n  dx |= (uint32)b << 16;\\n  dx |= (uint32)g << 8;\\n  dx |= r;\\n\\n  DatSend_\"+n+\"(dx);\\n}\\n\",o=\"Send32Zero_\"+n+\"(); // begin\\n\",0==this.itemCount_)return\"\";for(var e=0;e<this.itemCount_;e++){var i=this.getFieldValue(\"RGB\"+e);o=o+\"DataDealWithAndSend_\"+n+\"(\"+t(i)+\", \"+r(i)+\", \"+u(i)+\"); // first node data\\n\"}return o+\"Send32Zero_\"+n+\"();  // send to update data\\n\"},Blockly.Arduino.grove_bluetooth_slave=function(){var n=this.getFieldValue(\"PIN\"),o=l(n),e=this.getFieldValue(\"NAME\");this.getFieldValue(\"PINCODE\");var i=Blockly.Arduino.statementToCode(this,\"RCV\"),t=Blockly.Arduino.statementToCode(this,\"SNT\");return Blockly.Arduino.definitions_.define_softwareserial=\"#include <SoftwareSerial.h>\\n\",Blockly.Arduino.definitions_[\"var_bluetooth_\"+n]=\"SoftwareSerial blueToothSerial_\"+n+\"(\"+n+\",\"+o+\");\\n\",Blockly.Arduino.setups_[\"setup_bluetooth_\"+n]=\"Serial.begin(9600);\\n\",Blockly.Arduino.setups_[\"setup_bluetooth_\"+n]+=\"  pinMode(\"+n+\", INPUT);\\n\",Blockly.Arduino.setups_[\"setup_bluetooth_\"+n]+=\"  pinMode(\"+o+\", OUTPUT);\\n\",Blockly.Arduino.setups_[\"setup_bluetooth_\"+n]+=\"  setupBlueToothConnection_\"+n+\"();\\n\",Blockly.Arduino.definitions_[\"define_setupBlueToothConnection_\"+n]=\"void setupBlueToothConnection_\"+n+\"()\\n{\\n  blueToothSerial_\"+n+\".begin(38400); //Set BluetoothBee BaudRate to default baud rate 38400\\n  blueToothSerial_\"+n+'.print(\"\\\\r\\\\n+STWMOD=0\\\\r\\\\n\"); //set the bluetooth work in slave mode\\n  blueToothSerial_'+n+'.print(\"\\\\r\\\\n+STNA='+e+'\\\\r\\\\n\"); //set the bluetooth name as \"'+e+'\"\\n  blueToothSerial_'+n+'.print(\"\\\\r\\\\n+STPIN=0000\\\\r\\\\n\");//Set SLAVE pincode\"0000\"\\n  blueToothSerial_'+n+'.print(\"\\\\r\\\\n+STOAUT=1\\\\r\\\\n\"); // Permit Paired device to connect me\\n  blueToothSerial_'+n+'.print(\"\\\\r\\\\n+STAUTO=0\\\\r\\\\n\"); // Auto-connection should be forbidden here\\n  delay(2000); // This delay is required.\\n  blueToothSerial_'+n+'.print(\"\\\\r\\\\n+INQ=1\\\\r\\\\n\"); //make the slave bluetooth inquirable \\n  Serial.println(\"The slave bluetooth is inquirable!\");\\n  delay(2000); // This delay is required.\\n  blueToothSerial_'+n+\".flush();\\n}\\n\",\"char recvChar_\"+n+\";\\nwhile(1) {\\n  if(blueToothSerial_\"+n+\".available()) {//check if there is any data sent from the remote bluetooth shield\\n    recvChar_\"+n+\" = blueToothSerial_\"+n+\".read();\\n    Serial.print(recvChar_\"+n+\");\\n\"+i+\"  }\\n  if(Serial.available()){//check if there is any data sent from the local serial terminal, you can add the other applications here\\n    recvChar_\"+n+\" = Serial.read();\\n    blueToothSerial_\"+n+\".print(recvChar_\"+n+\");\\n\"+t+\"  }\\n}\\n\"},Blockly.Arduino.logic={},Blockly.Arduino.controls_if=function(){var n=0,o=Blockly.Arduino.valueToCode(this,\"IF\"+n,Blockly.Arduino.ORDER_NONE)||\"false\",e=Blockly.Arduino.statementToCode(this,\"DO\"+n),i=\"if (\"+o+\") {\\n\"+e+\"\\n}\";for(n=1;n<=this.elseifCount_;n++)i+=\" else if (\"+(o=Blockly.Arduino.valueToCode(this,\"IF\"+n,Blockly.Arduino.ORDER_NONE)||\"false\")+\") {\\n\"+(e=Blockly.Arduino.statementToCode(this,\"DO\"+n))+\"}\";return this.elseCount_&&(i+=\" else {\\n\"+(e=Blockly.Arduino.statementToCode(this,\"ELSE\"))+\"\\n}\"),i+\"\\n\"},Blockly.Arduino.logic_compare=function(){var n=this.getFieldValue(\"OP\"),o=\"==\"==(n=Blockly.Arduino.logic_compare.OPERATORS[n])||\"!=\"==n?Blockly.Arduino.ORDER_EQUALITY:Blockly.Arduino.ORDER_RELATIONAL;return[(Blockly.Arduino.valueToCode(this,\"A\",o)||\"0\")+\" \"+n+\" \"+(Blockly.Arduino.valueToCode(this,\"B\",o)||\"0\"),o]},Blockly.Arduino.logic_compare.OPERATORS={EQ:\"==\",NEQ:\"!=\",LT:\"<\",LTE:\"<=\",GT:\">\",GTE:\">=\"},Blockly.Arduino.logic_operation=function(){var n=\"AND\"==this.getFieldValue(\"OP\")?\"&&\":\"||\",o=\"&&\"==n?Blockly.Arduino.ORDER_LOGICAL_AND:Blockly.Arduino.ORDER_LOGICAL_OR;return[(Blockly.Arduino.valueToCode(this,\"A\",o)||\"false\")+\" \"+n+\" \"+(Blockly.Arduino.valueToCode(this,\"B\",o)||\"false\"),o]},Blockly.Arduino.logic_negate=function(){var n=Blockly.Arduino.ORDER_UNARY_PREFIX;return[\"!\"+(Blockly.Arduino.valueToCode(this,\"BOOL\",n)||\"false\"),n]},Blockly.Arduino.logic_boolean=function(){return[\"TRUE\"==this.getFieldValue(\"BOOL\")?\"true\":\"false\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.logic_null=function(){return[\"NULL\",Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.math={},Blockly.Arduino.math_number=function(){var n=window.parseFloat(this.getFieldValue(\"NUM\"));return[n,0>n?Blockly.Arduino.ORDER_UNARY_PREFIX:Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.math_arithmetic=function(){var n=this.getFieldValue(\"OP\"),o=(n=(o=Blockly.Arduino.math_arithmetic.OPERATORS[n])[0],o[1]),e=Blockly.Arduino.valueToCode(this,\"A\",o)||\"0\",i=Blockly.Arduino.valueToCode(this,\"B\",o)||\"0\";return n?[e+n+i,o]:[\"Math.pow(\"+e+\", \"+i+\")\",Blockly.Arduino.ORDER_UNARY_POSTFIX]},Blockly.Arduino.math_arithmetic.OPERATORS={ADD:[\" + \",Blockly.Arduino.ORDER_ADDITIVE],MINUS:[\" - \",Blockly.Arduino.ORDER_ADDITIVE],MULTIPLY:[\" * \",Blockly.Arduino.ORDER_MULTIPLICATIVE],DIVIDE:[\" / \",Blockly.Arduino.ORDER_MULTIPLICATIVE],POWER:[null,Blockly.Arduino.ORDER_NONE]},Blockly.Arduino.procedures={},Blockly.Arduino.procedures_defreturn=function(){var n=Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"NAME\"),Blockly.Procedures.NAME_TYPE),o=Blockly.Arduino.statementToCode(this,\"STACK\");Blockly.Arduino.INFINITE_LOOP_TRAP&&(o=Blockly.Arduino.INFINITE_LOOP_TRAP.replace(/%1/g,\"'\"+this.id+\"'\")+o);var e=Blockly.Arduino.valueToCode(this,\"RETURN\",Blockly.Arduino.ORDER_NONE)||\"\";e&&(e=\"  return \"+e+\";\\n\");for(var i=e?\"int\":\"void\",l=[],t=0;t<this.arguments_.length;t++)l[t]=\"int \"+Blockly.Arduino.variableDB_.getName(this.arguments_[t],Blockly.Variables.NAME_TYPE);return o=i+\" \"+n+\"(\"+l.join(\", \")+\") {\\n\"+o+e+\"}\\n\",o=Blockly.Arduino.scrub_(this,o),Blockly.Arduino.definitions_[n]=o,null},Blockly.Arduino.procedures_defnoreturn=Blockly.Arduino.procedures_defreturn,Blockly.Arduino.procedures_callreturn=function(){for(var n=Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"NAME\"),Blockly.Procedures.NAME_TYPE),o=[],e=0;e<this.arguments_.length;e++)o[e]=Blockly.Arduino.valueToCode(this,\"ARG\"+e,Blockly.Arduino.ORDER_NONE)||\"null\";return[n+\"(\"+o.join(\", \")+\")\",Blockly.Arduino.ORDER_UNARY_POSTFIX]},Blockly.Arduino.procedures_callnoreturn=function(){for(var n=Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"NAME\"),Blockly.Procedures.NAME_TYPE),o=[],e=0;e<this.arguments_.length;e++)o[e]=Blockly.Arduino.valueToCode(this,\"ARG\"+e,Blockly.Arduino.ORDER_NONE)||\"null\";return n+\"(\"+o.join(\", \")+\");\\n\"},Blockly.Arduino.procedures_ifreturn=function(){var n=\"if (\"+(Blockly.Arduino.valueToCode(this,\"CONDITION\",Blockly.Arduino.ORDER_NONE)||\"false\")+\") {\\n\";if(this.hasReturnValue_)n=n+\"  return \"+(Blockly.Arduino.valueToCode(this,\"VALUE\",Blockly.Arduino.ORDER_NONE)||\"null\")+\";\\n\";else n+=\"  return;\\n\";return n+\"}\\n\"},Blockly.Arduino.texts={},Blockly.Arduino.text=function(){return[Blockly.Arduino.quote_(this.getFieldValue(\"TEXT\")),Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.variables={},Blockly.Arduino.variables_get=function(){return[Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"VAR\"),Blockly.Variables.NAME_TYPE),Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.variables_declare=function(){this.getFieldValue(\"TYPE\");var n=Blockly.Arduino.valueToCode(this,\"VALUE\",Blockly.Arduino.ORDER_ASSIGNMENT)||\"0\",o=Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"VAR\"),Blockly.Variables.NAME_TYPE);return Blockly.Arduino.setups_[\"setup_var\"+o]=o+\" = \"+n+\";\\n\",\"\"},Blockly.Arduino.variables_set=function(){var n=Blockly.Arduino.valueToCode(this,\"VALUE\",Blockly.Arduino.ORDER_ASSIGNMENT)||\"0\";return Blockly.Arduino.variableDB_.getName(this.getFieldValue(\"VAR\"),Blockly.Variables.NAME_TYPE)+\" = \"+n+\";\\n\"}},function(n,o,e){n.exports=e(!function(){var n=new Error(\"Cannot find module 'imports-loader?Blockly=../shim/blocks_compressed_vertical-blockly_compressed_vertical-messages,goog=../shim/blockly_compressed_vertical.goog!exports-loader?Blockly!../msg/scratch_msgs'\");throw n.code=\"MODULE_NOT_FOUND\",n}())}]);","extractedComments":[]}